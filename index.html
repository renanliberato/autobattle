<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,user-scalable=no">
  <link rel="stylesheet" href="./src/styles/index.css">
</head>

<body style="align-items: center; justify-content: center;">
  <canvas id="game-canvas"></canvas>
  <output style="position: absolute; left: 10px; top: 10px;" id="out"></output>
  <script src="https://cdn.jsdelivr.net/npm/three@0.129.0/build/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="./libs/pathfinding-browser.js"></script>
  <script type="module" src="./src/battle.js"></script>
  <script>
    window.countFPS = (function () {
      var lastLoop = (new Date()).getMilliseconds();
      var count = 1;
      var fps = 0;

      return function () {
        var currentLoop = (new Date()).getMilliseconds();
        if (lastLoop > currentLoop) {
          fps = count;
          count = 1;
        } else {
          count += 1;
        }
        lastLoop = currentLoop;
        return fps;
      };
    }());

    var $out = document.getElementById('out');
    (function loop() {
      requestAnimationFrame(function () {
        out.innerHTML = countFPS()+' fps';
        loop();
      });
    }());
  </script>
</body>

</html>